webpackJsonp([14],{"0uJV":function(t,e,o){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var a={name:"editForm",components:{JobDetail:o("LVBi").a}},n={render:function(){var t=this.$createElement;return(this._self._c||t)("job-detail",{attrs:{"is-edit":!0}})},staticRenderFns:[]},r=o("VU/8")(a,n,!1,null,null,null);e.default=r.exports},"1RGM":function(t,e,o){(t.exports=o("FZ+f")(!1)).push([t.i,'\n.createPost-container[data-v-4d02e026] {\n  position: relative;\n}\n.createPost-container .createPost-main-container[data-v-4d02e026] {\n    padding: 40px 45px 20px 50px;\n}\n.createPost-container .createPost-main-container .postInfo-container[data-v-4d02e026] {\n      position: relative;\n      margin-bottom: 10px;\n}\n.createPost-container .createPost-main-container .postInfo-container[data-v-4d02e026]:after {\n        content: "";\n        display: table;\n        clear: both;\n}\n.createPost-container .createPost-main-container .postInfo-container .postInfo-container-item[data-v-4d02e026] {\n        float: left;\n}\n.createPost-container .createPost-main-container .editor-container[data-v-4d02e026] {\n      min-height: 500px;\n      margin: 0 0 30px;\n}\n.createPost-container .createPost-main-container .editor-container .editor-upload-btn-container[data-v-4d02e026] {\n        text-align: right;\n        margin-right: 10px;\n}\n.createPost-container .createPost-main-container .editor-container .editor-upload-btn-container .editor-upload-btn[data-v-4d02e026] {\n          display: inline-block;\n}\n.createPost-container .word-counter[data-v-4d02e026] {\n    width: 40px;\n    position: absolute;\n    right: -10px;\n    top: 0px;\n}\n',""])},LVBi:function(t,e,o){"use strict";var a=o("woOf"),n=o.n(a),r=o("5aCZ"),i=o("vHhr"),s=o("iVC1"),l={id:void 0,title:"",content:"",city:"",salary:"",demand:"",cate_name:"",jingyan:"",link_addr:"",if_jp:0},c={name:"jobDetail",components:{Tinymce:r.a,Sticky:i.a},props:{isEdit:{type:Boolean,default:!1}},data:function(){var t=this,e=function(e,o,a){""===o?(t.$message({message:e.field+"为必传项",type:"error"}),a(null)):a()};return{postForm:n()({},l),loading:!1,cateOptions:[],rules:{title:[{validator:e}],content:[{validator:e}]}}},computed:{contentShortLength:function(){return null==this.postForm.desc?0:this.postForm.desc.length}},created:function(){if(this.isEdit){var t=this.$route.params&&this.$route.params.id;this.fetchData(t)}else this.postForm=n()({},l)},methods:{fetchData:function(t){var e=this;Object(s.c)(t).then(function(t){e.postForm=t.data}).catch(function(t){console.log(t)})},submitForm:function(){var t=this;this.$refs.postForm.validate(function(e){if(!e)return console.log("error submit!!"),!1;t.loading=!0,t.isEdit?Object(s.e)(t.postForm,t.postForm.id).then(function(){t.$notify({title:"成功",message:"更新成功",type:"success",duration:2e3})}):Object(s.a)(t.postForm).then(function(){t.$notify({title:"成功",message:"创建成功",type:"success",duration:2e3})}),t.loading=!1,t.$router.push("/jobs/job-list")})}}},p={render:function(){var t=this,e=t.$createElement,o=t._self._c||e;return o("div",{staticClass:"createPost-container"},[o("el-form",{ref:"postForm",staticClass:"form-container",attrs:{model:t.postForm,rules:t.rules}},[o("sticky",{attrs:{className:"sub-navbar draft"}},[o("router-link",{attrs:{to:"/jobs/job-list"}},[o("el-button",{staticStyle:{margin:"10px","margin-bottom":"0"},attrs:{type:"primary",icon:"el-icon-back"}},[t._v("返回列表")])],1),t._v(" "),o("el-button",{directives:[{name:"loading",rawName:"v-loading",value:t.loading,expression:"loading"}],staticStyle:{margin:"10px",float:"right","margin-bottom":"0"},attrs:{type:"success"},on:{click:t.submitForm}},[t._v("发布")])],1),t._v(" "),o("div",{staticClass:"createPost-main-container"},[o("el-form-item",{attrs:{label:"岗位名称",prop:"title"}},[o("el-col",{attrs:{span:16}},[o("el-input",{model:{value:t.postForm.title,callback:function(e){t.$set(t.postForm,"title",e)},expression:"postForm.title"}})],1)],1),t._v(" "),o("el-form-item",{attrs:{label:"城市",prop:"city"}},[o("el-col",{attrs:{span:8}},[o("el-input",{attrs:{placeholder:"例如:深圳"},model:{value:t.postForm.city,callback:function(e){t.$set(t.postForm,"city",e)},expression:"postForm.city"}})],1)],1),t._v(" "),o("el-form-item",{attrs:{label:"薪资待遇",prop:"salary"}},[o("el-col",{attrs:{span:8}},[o("el-input",{attrs:{placeholder:"例如:面议"},model:{value:t.postForm.salary,callback:function(e){t.$set(t.postForm,"salary",e)},expression:"postForm.salary"}})],1)],1),t._v(" "),o("el-form-item",{attrs:{label:"学历要求",prop:"demand"}},[o("el-col",{attrs:{span:8}},[o("el-input",{attrs:{placeholder:"例如:本科"},model:{value:t.postForm.demand,callback:function(e){t.$set(t.postForm,"demand",e)},expression:"postForm.demand"}})],1)],1),t._v(" "),o("el-form-item",{attrs:{label:"经验要求",prop:"jingyan"}},[o("el-col",{attrs:{span:8}},[o("el-input",{attrs:{placeholder:"例如:3-5年/不限"},model:{value:t.postForm.jingyan,callback:function(e){t.$set(t.postForm,"jingyan",e)},expression:"postForm.jingyan"}})],1)],1),t._v(" "),o("el-form-item",{attrs:{label:"岗位分类",prop:"cate_name"}},[o("el-col",{attrs:{span:8}},[o("el-input",{attrs:{placeholder:"例如:产品&服务类"},model:{value:t.postForm.cate_name,callback:function(e){t.$set(t.postForm,"cate_name",e)},expression:"postForm.cate_name"}})],1)],1),t._v(" "),o("el-form-item",{attrs:{label:"第三方招聘链接",prop:"link_addr"}},[o("el-col",{attrs:{span:16}},[o("el-input",{attrs:{placeholder:"例如:http://jobs.zhaopin.com/CZ201651630J00125926104.htm"},model:{value:t.postForm.link_addr,callback:function(e){t.$set(t.postForm,"link_addr",e)},expression:"postForm.link_addr"}})],1)],1),t._v(" "),o("el-form-item",{attrs:{label:"招聘内容",prop:"content"}},[o("div",{staticClass:"editor-container"},[o("Tinymce",{ref:"editor",attrs:{height:400},model:{value:t.postForm.content,callback:function(e){t.$set(t.postForm,"content",e)},expression:"postForm.content"}})],1)]),t._v(" "),o("el-form-item",{attrs:{label:"急聘"}},[o("el-radio-group",{model:{value:t.postForm.if_jp,callback:function(e){t.$set(t.postForm,"if_jp",e)},expression:"postForm.if_jp"}},[o("el-radio",{attrs:{label:0}},[t._v("否")]),t._v(" "),o("el-radio",{attrs:{label:1}},[t._v("是")])],1)],1)],1)],1)],1)},staticRenderFns:[]};var m=o("VU/8")(c,p,!1,function(t){o("vzJb")},"data-v-4d02e026",null);e.a=m.exports},vzJb:function(t,e,o){var a=o("1RGM");"string"==typeof a&&(a=[[t.i,a,""]]),a.locals&&(t.exports=a.locals);o("rjj0")("477776a0",a,!0)}});