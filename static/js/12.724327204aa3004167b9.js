webpackJsonp([12],{"0FqR":function(t,e,a){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var o={name:"editForm",components:{ItemDetail:a("YTUj").a}},s={render:function(){var t=this.$createElement;return(this._self._c||t)("item-detail",{attrs:{"is-edit":!0}})},staticRenderFns:[]},r=a("VU/8")(o,s,!1,null,null,null);e.default=r.exports},"50O+":function(t,e,a){(t.exports=a("FZ+f")(!1)).push([t.i,'\n.createPost-container[data-v-e962ce5e] {\n  position: relative;\n}\n.createPost-container .createPost-main-container[data-v-e962ce5e] {\n    padding: 40px 45px 20px 50px;\n}\n.createPost-container .createPost-main-container .postInfo-container[data-v-e962ce5e] {\n      position: relative;\n      margin-bottom: 10px;\n}\n.createPost-container .createPost-main-container .postInfo-container[data-v-e962ce5e]:after {\n        content: "";\n        display: table;\n        clear: both;\n}\n.createPost-container .createPost-main-container .postInfo-container .postInfo-container-item[data-v-e962ce5e] {\n        float: left;\n}\n.createPost-container .createPost-main-container .editor-container[data-v-e962ce5e] {\n      min-height: 500px;\n      margin: 0 0 30px;\n}\n.createPost-container .createPost-main-container .editor-container .editor-upload-btn-container[data-v-e962ce5e] {\n        text-align: right;\n        margin-right: 10px;\n}\n.createPost-container .createPost-main-container .editor-container .editor-upload-btn-container .editor-upload-btn[data-v-e962ce5e] {\n          display: inline-block;\n}\n.createPost-container .word-counter[data-v-e962ce5e] {\n    width: 40px;\n    position: absolute;\n    right: -10px;\n    top: 0px;\n}\n.tip[data-v-e962ce5e] {\n  color: #ccc;\n  font-size: 10px;\n  padding-left: 5px;\n}\n',""])},YTUj:function(t,e,a){"use strict";var o=a("woOf"),s=a.n(o),r=a("5aCZ"),l=a("KQHe"),n=a("vHhr"),i=(a("E4LH"),a("95jg")),p={status:1,title:"",code:"",banner_img:"",bankuai_tpl:"",quanju:0,mobile_status:0,fenlei:0,data_from:0,yugao:0,huodong_time:10,time_type:0,zj_stime:0,gd_stime:0,gd_minute:"",etime:0,baoming:0,tuijian:0,dan_api:{cat:null,q:""},api_sort:"total_sales_des",id:void 0,sort:0,web_cid:[],yun_cid:[]},m=[{key:"250",name:"250"},{key:"350",name:"350"},{key:"chaofan",name:"chaofan"},{key:"quan",name:"quan"},{key:"tejia",name:"tejia"},{key:"zhi",name:"zhi"},{key:"baokuan",name:"baokuan"}],c={name:"itemDetail",components:{Tinymce:r.a,Upload:l.a,Sticky:n.a},props:{isEdit:{type:Boolean,default:!1}},data:function(){var t=this;return{postForm:s()({},p),loading:!1,bktplOptions:m,cateOptions:[],rules:{title:[{validator:function(e,a,o){""===a?(t.$message({message:e.field+"为必传项",type:"error"}),o(null)):o()}}]}}},created:function(){if(this.isEdit){var t=this.$route.params&&this.$route.params.id;this.fetchData(t)}else this.postForm=s()({},p);this.getAllCates()},methods:{fetchData:function(t){var e=this;Object(i.c)(t).then(function(t){e.postForm=t.data}).catch(function(t){console.log(t)})},getAllCates:function(){var t=this;Object(i.e)().then(function(e){t.cateOptions=e.data})},submitForm:function(){var t=this;this.$refs.postForm.validate(function(e){if(!e)return console.log("error submit!!"),!1;t.loading=!0,t.isEdit?Object(i.f)(t.postForm,t.postForm.id).then(function(e){0==e.data.code?t.$notify({title:"成功",message:e.data.message,type:"success",duration:2e3}):t.$notify({title:"失败",message:e.data.error,type:"error",duration:2e3})}):(Object(i.a)(t.postForm).then(function(e){0==e.data.code?t.$notify({title:"成功",message:e.data.message,type:"success",duration:2e3}):t.$notify({title:"失败",message:e.data.error,type:"error",duration:2e3})}),t.$router.push("/goods/bankuai")),t.loading=!1})}}},d={render:function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"app-container"},[a("el-form",{ref:"postForm",attrs:{model:t.postForm,rules:t.rules,size:"small","label-width":"130px"}},[a("sticky",{attrs:{className:"sub-navbar draft"}},[a("router-link",{attrs:{to:"/goods/bankuai"}},[a("el-button",{staticStyle:{margin:"10px","margin-bottom":"0"},attrs:{type:"primary",icon:"el-icon-back"}},[t._v("返回列表")])],1),t._v(" "),a("el-button",{directives:[{name:"loading",rawName:"v-loading",value:t.loading,expression:"loading"}],staticStyle:{margin:"10px",float:"right","margin-bottom":"0"},attrs:{type:"success"},on:{click:t.submitForm}},[t._v("保存")])],1),t._v(" "),a("el-form-item",{attrs:{label:"状态"}},[a("el-radio-group",{model:{value:t.postForm.status,callback:function(e){t.$set(t.postForm,"status",e)},expression:"postForm.status"}},[a("el-radio",{attrs:{label:0}},[t._v("关闭")]),t._v(" "),a("el-radio",{attrs:{label:1}},[t._v("开启")])],1)],1),t._v(" "),a("el-form-item",{attrs:{label:"板块名称"}},[a("el-col",{attrs:{span:8}},[a("el-input",{model:{value:t.postForm.title,callback:function(e){t.$set(t.postForm,"title",e)},expression:"postForm.title"}})],1)],1),t._v(" "),a("el-form-item",{attrs:{label:"板块标识码"}},[a("el-col",{attrs:{span:8}},[""==t.postForm.code?a("el-input",{model:{value:t.postForm.code,callback:function(e){t.$set(t.postForm,"code",e)},expression:"postForm.code"}}):a("el-input",{attrs:{readonly:""},model:{value:t.postForm.code,callback:function(e){t.$set(t.postForm,"code",e)},expression:"postForm.code"}})],1),t._v(" "),a("span",{staticClass:"tip"},[t._v("设置后不可修改")])],1),t._v(" "),a("el-form-item",{attrs:{label:"版块Banner"}},[a("div",{staticStyle:{"margin-bottom":"10px"}},[a("Upload",{model:{value:t.postForm.banner_img,callback:function(e){t.$set(t.postForm,"banner_img",e)},expression:"postForm.banner_img"}})],1)]),t._v(" "),a("el-form-item",{attrs:{label:"全局置顶商品"}},[a("el-radio-group",{model:{value:t.postForm.quanju,callback:function(e){t.$set(t.postForm,"quanju",e)},expression:"postForm.quanju"}},[a("el-radio",{attrs:{label:0}},[t._v("不调用")]),t._v(" "),a("el-radio",{attrs:{label:1}},[t._v("调用")])],1),t._v(" "),a("span",{staticClass:"tip"},[t._v("是否调用全局置顶商品")])],1),t._v(" "),a("el-form-item",{attrs:{label:"WAP首页调用"}},[a("el-radio-group",{model:{value:t.postForm.mobile_status,callback:function(e){t.$set(t.postForm,"mobile_status",e)},expression:"postForm.mobile_status"}},[a("el-radio",{attrs:{label:0}},[t._v("关闭")]),t._v(" "),a("el-radio",{attrs:{label:1}},[t._v("开启")])],1),t._v(" "),a("span",{staticClass:"tip"},[t._v("无线只支持淘宝商品，板块里的其他类型商品会自动过滤")])],1),t._v(" "),a("el-form-item",{attrs:{label:"列表样式"}},[a("el-select",{attrs:{clearable:"",placeholder:"请选择"},model:{value:t.postForm.bankuai_tpl,callback:function(e){t.$set(t.postForm,"bankuai_tpl",e)},expression:"postForm.bankuai_tpl"}},t._l(t.bktplOptions,function(t){return a("el-option",{key:t.key,attrs:{label:t.name,value:t.key}})})),t._v(" "),a("span",{staticClass:"tip"},[t._v("商品显示的列表形式，具体可参考模板说明内解释")])],1),t._v(" "),a("el-form-item",{attrs:{label:"数据来源"}},[a("el-radio-group",{model:{value:t.postForm.data_from,callback:function(e){t.$set(t.postForm,"data_from",e)},expression:"postForm.data_from"}},[a("el-radio",{attrs:{label:0}},[t._v("采集")]),t._v(" "),a("el-radio",{attrs:{label:1}},[t._v("淘宝API")])],1),t._v(" "),a("span",{staticClass:"tip"},[t._v(" 淘宝api只能展示淘宝类商品")])],1),t._v(" "),0==t.postForm.data_from?a("div",[a("el-form-item",{attrs:{label:"预告"}},[a("el-radio-group",{model:{value:t.postForm.yugao,callback:function(e){t.$set(t.postForm,"yugao",e)},expression:"postForm.yugao"}},[a("el-radio",{attrs:{label:0}},[t._v("不开启")]),t._v(" "),a("el-radio",{attrs:{label:1}},[t._v("开启")])],1),t._v(" "),a("span",{staticClass:"tip"},[t._v(" 是否开启预告链接")])],1),t._v(" "),a("el-form-item",{attrs:{label:"活动开始"}},[a("el-col",{attrs:{span:1}},[t._v("每日：")]),t._v(" "),a("el-col",{attrs:{span:2}},[a("el-input",{model:{value:t.postForm.huodong_time,callback:function(e){t.$set(t.postForm,"huodong_time",e)},expression:"postForm.huodong_time"}})],1),t._v("点 "),a("span",{staticClass:"tip"},[t._v(" 例如：15点开始，必须使用24小时制。")])],1),t._v(" "),a("el-form-item",{attrs:{label:"商家报名"}},[a("el-radio-group",{model:{value:t.postForm.baoming,callback:function(e){t.$set(t.postForm,"baoming",e)},expression:"postForm.baoming"}},[a("el-radio",{attrs:{label:0}},[t._v("不参与")]),t._v(" "),a("el-radio",{attrs:{label:1}},[t._v("参与")])],1)],1),t._v(" "),a("el-form-item",{attrs:{label:"默认开始时间"}},[a("el-radio-group",{model:{value:t.postForm.time_type,callback:function(e){t.$set(t.postForm,"time_type",e)},expression:"postForm.time_type"}},[a("el-radio",{attrs:{label:0}},[t._v("直接开始")]),t._v(" "),a("el-radio",{attrs:{label:1}},[t._v("固定时间")])],1)],1),t._v(" "),0==t.postForm.time_type?a("el-form-item",{attrs:{label:"直接开始时间"}},[a("el-col",{attrs:{span:2}},[a("el-input",{model:{value:t.postForm.zj_stime,callback:function(e){t.$set(t.postForm,"zj_stime",e)},expression:"postForm.zj_stime"}})],1),t._v("小时后 "),a("span",{staticClass:"tip"},[t._v("  0为马上开始，如“10”即添加后10小时后显示")])],1):t._e(),t._v(" "),1==t.postForm.time_type?a("el-form-item",{attrs:{label:"固定开始时间"}},[a("el-col",{attrs:{span:4}},[a("el-radio-group",{model:{value:t.postForm.gd_stime,callback:function(e){t.$set(t.postForm,"gd_stime",e)},expression:"postForm.gd_stime"}},[a("el-radio",{attrs:{label:0}},[t._v("今天")]),t._v(" "),a("el-radio",{attrs:{label:1}},[t._v("明天")])],1)],1),t._v(" "),a("el-col",{attrs:{span:2}},[a("el-input",{model:{value:t.postForm.gd_minute,callback:function(e){t.$set(t.postForm,"gd_minute",e)},expression:"postForm.gd_minute"}})],1),t._v(" "),a("span",{staticClass:"tip"},[t._v("  注意时间格式：“7:00”，设置分无效，最小到小时")])],1):t._e(),t._v(" "),a("el-form-item",{attrs:{label:"默认结束时间"}},[a("el-col",{attrs:{span:2}},[a("el-input",{model:{value:t.postForm.etime,callback:function(e){t.$set(t.postForm,"etime",e)},expression:"postForm.etime"}})],1),t._v("天后"),a("span",{staticClass:"tip"},[t._v("  以天为单位")])],1)],1):t._e(),t._v(" "),1==t.postForm.data_from?a("div",[a("el-form-item",{attrs:{label:"对应分类"}},[a("el-col",{attrs:{span:4}},[a("el-select",{attrs:{clearable:"",placeholder:"请选择"},model:{value:t.postForm.dan_api.cat,callback:function(e){t.$set(t.postForm.dan_api,"cat",e)},expression:"postForm.dan_api.cat"}},t._l(t.cateOptions,function(t){return a("el-option",{key:t.id,attrs:{label:t.title,value:t.id}})}))],1),t._v(" "),a("el-col",{attrs:{span:2}},[a("el-input",{attrs:{placeholder:"关键词"},model:{value:t.postForm.dan_api.q,callback:function(e){t.$set(t.postForm.dan_api,"q",e)},expression:"postForm.dan_api.q"}})],1),t._v(" "),a("span",{staticClass:"tip"},[t._v("  分类和关键词至少设置一项")])],1),t._v(" "),a("el-form-item",{attrs:{label:"数据排序"}},[a("el-radio-group",{model:{value:t.postForm.api_sort,callback:function(e){t.$set(t.postForm,"api_sort",e)},expression:"postForm.api_sort"}},[a("el-radio",{attrs:{label:"total_sales_des"}},[t._v("销量高到低")]),t._v(" "),a("el-radio",{attrs:{label:"tk_rate_des"}},[t._v("佣金比率高到低")]),t._v(" "),a("el-radio",{attrs:{label:"tk_total_sales_des"}},[t._v("推广量高到低")]),t._v(" "),a("el-radio",{attrs:{label:"tk_total_commi_des"}},[t._v("支出佣金高到低")])],1)],1)],1):t._e(),t._v(" "),a("el-form-item",{attrs:{label:"首页推荐"}},[a("el-radio-group",{model:{value:t.postForm.tuijian,callback:function(e){t.$set(t.postForm,"tuijian",e)},expression:"postForm.tuijian"}},[a("el-radio",{attrs:{label:0}},[t._v("不推荐")]),t._v(" "),a("el-radio",{attrs:{label:1}},[t._v("推荐")])],1)],1),t._v(" "),a("el-form-item",{attrs:{label:"排序",prop:"sort"}},[a("el-col",{attrs:{span:4}},[a("el-input",{attrs:{placeholder:"值越大越靠前"},model:{value:t.postForm.sort,callback:function(e){t.$set(t.postForm,"sort",e)},expression:"postForm.sort"}})],1)],1)],1)],1)},staticRenderFns:[]};var u=a("VU/8")(c,d,!1,function(t){a("Z03N")},"data-v-e962ce5e",null);e.a=u.exports},Z03N:function(t,e,a){var o=a("50O+");"string"==typeof o&&(o=[[t.i,o,""]]),o.locals&&(t.exports=o.locals);a("rjj0")("3aaaa503",o,!0)}});