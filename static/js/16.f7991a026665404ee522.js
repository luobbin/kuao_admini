webpackJsonp([16],{M0v8:function(e,t,o){"use strict";var a=o("woOf"),n=o.n(a),r=o("mw3O"),s=o.n(r),i=o("5aCZ"),l=o("QbVN"),p=o("vHhr"),c=(o("E4LH"),o("ZfnU")),m=o("ayk+");var u={title:"",shopid:"",img:"",cid:null,kl:"",url:"",type:0,price:null,coupon:"",sale:null,nick:"",tag:0,choose:0,img_size:0,shareimg:"",id:void 0,sort:0},d=[{key:0,name:"未定义"},{key:1,name:"banner"},{key:2,name:"返利商城图片"},{key:3,name:"首页大图"},{key:4,name:"热销商品图片"},{key:5,name:"精选商品图片"},{key:6,name:"分享注册图片"},{key:7,name:"WEB首页图片banner"},{key:8,name:"WEB活动专区banner"}],f=[{key:0,name:"未定义"},{key:1,name:"Android"},{key:2,name:"Ios"},{key:3,name:"公共"},{key:4,name:"Web"}],b=[{key:0,name:"未定义"},{key:1,name:"直接跳网页链接"},{key:2,name:"拉起手淘，用淘口令打开"},{key:3,name:"拉起手机京东"},{key:4,name:"搜索关键字"},{key:5,name:"店铺跳转"},{key:6,name:"跳转淘宝商品详情"},{key:7,name:"拉起京东h5（强制用户登录）"},{key:8,name:"强制用户登录，打开H5页面"},{key:9,name:"跳转拼多多商品详情"},{key:10,name:"根据CID跳转"},{key:11,name:"复制标题并拉起第三方应用"},{key:12,name:"单商城推广"}],v=[{key:0,name:"适用于App 2.0以下版本"},{key:2,name:"App 2.0或以上"}],k={name:"bannerDetail",components:{Tinymce:i.a,Upload:l.a,Sticky:p.a},props:{isEdit:{type:Boolean,default:!1}},data:function(){var e=this;return{postForm:n()({},u),loading:!1,typeOptions:d,tagOptions:f,chooseOptions:b,imgsizeOptions:v,cateOptions:[],rules:{title:[{validator:function(t,o,a){""===o?(e.$message({message:t.field+"为必传项",type:"error"}),a(null)):a()}}]}}},created:function(){if(this.isEdit){var e=this.$route.params&&this.$route.params.id;this.fetchData(e)}else this.postForm=n()({},u);this.getAllCates()},methods:{fetchData:function(e){var t=this;Object(c.c)(e).then(function(e){t.postForm=e.data}).catch(function(e){console.log(e)})},getAllCates:function(){var e=this;Object(m.a)({url:"/goods_type/create",method:"get"}).then(function(t){e.cateOptions=t.data})},submitForm:function(){var e=this;this.$refs.postForm.validate(function(t){if(!t)return console.log("error submit!!"),!1;e.loading=!0,e.isEdit?Object(c.e)(s.a.stringify(e.postForm),e.postForm.id).then(function(){e.$notify({title:"成功",message:"更新成功",type:"success",duration:2e3})}):(Object(c.a)(s.a.stringify(e.postForm)).then(function(){e.$notify({title:"成功",message:"创建成功",type:"success",duration:2e3})}),e.$router.push("/tuiguang/banner_list")),e.loading=!1})}}},y={render:function(){var e=this,t=e.$createElement,o=e._self._c||t;return o("div",{staticClass:"app-container"},[o("el-form",{ref:"postForm",attrs:{model:e.postForm,rules:e.rules,size:"small","label-width":"120px"}},[o("sticky",{attrs:{className:"sub-navbar draft"}},[o("router-link",{attrs:{to:"/tuiguang/banner_list"}},[o("el-button",{staticStyle:{margin:"10px","margin-bottom":"0"},attrs:{type:"primary",icon:"el-icon-back"}},[e._v("返回列表")])],1),e._v(" "),o("el-button",{directives:[{name:"loading",rawName:"v-loading",value:e.loading,expression:"loading"}],staticStyle:{margin:"10px",float:"right","margin-bottom":"0"},attrs:{type:"success"},on:{click:e.submitForm}},[e._v("保存")])],1),e._v(" "),o("el-form-item",{attrs:{label:"banner名称",prop:"title"}},[o("el-input",{model:{value:e.postForm.title,callback:function(t){e.$set(e.postForm,"title",t)},expression:"postForm.title"}})],1),e._v(" "),o("el-form-item",{attrs:{label:"商品ID",prop:"shopid"}},[o("el-input",{model:{value:e.postForm.shopid,callback:function(t){e.$set(e.postForm,"shopid",t)},expression:"postForm.shopid"}})],1),e._v(" "),o("el-form-item",{attrs:{label:"口令",prop:"kl"}},[o("el-input",{model:{value:e.postForm.kl,callback:function(t){e.$set(e.postForm,"kl",t)},expression:"postForm.kl"}})],1),e._v(" "),o("el-form-item",{attrs:{label:"链接",prop:"url"}},[o("el-input",{model:{value:e.postForm.url,callback:function(t){e.$set(e.postForm,"url",t)},expression:"postForm.url"}})],1),e._v(" "),o("el-form-item",{attrs:{label:"原价",prop:"price"}},[o("el-input",{model:{value:e.postForm.price,callback:function(t){e.$set(e.postForm,"price",t)},expression:"postForm.price"}})],1),e._v(" "),o("el-form-item",{attrs:{label:"优惠券",prop:"coupon"}},[o("el-input",{model:{value:e.postForm.coupon,callback:function(t){e.$set(e.postForm,"coupon",t)},expression:"postForm.coupon"}})],1),e._v(" "),o("el-form-item",{attrs:{label:"销量",prop:"sale"}},[o("el-input",{model:{value:e.postForm.sale,callback:function(t){e.$set(e.postForm,"sale",t)},expression:"postForm.sale"}})],1),e._v(" "),o("el-form-item",{attrs:{label:"店铺名称",prop:"nick"}},[o("el-input",{model:{value:e.postForm.nick,callback:function(t){e.$set(e.postForm,"nick",t)},expression:"postForm.nick"}})],1),e._v(" "),o("el-form-item",{attrs:{label:"类别",prop:"type"}},[o("el-select",{attrs:{clearable:"",placeholder:"选择类别"},model:{value:e.postForm.type,callback:function(t){e.$set(e.postForm,"type",t)},expression:"postForm.type"}},e._l(e.typeOptions,function(e){return o("el-option",{key:e.key,attrs:{label:e.name,value:e.key}})}))],1),e._v(" "),o("el-form-item",{attrs:{label:"来源",prop:"tag"}},[o("el-select",{attrs:{clearable:"",placeholder:"选择来源"},model:{value:e.postForm.tag,callback:function(t){e.$set(e.postForm,"tag",t)},expression:"postForm.tag"}},e._l(e.tagOptions,function(e){return o("el-option",{key:e.key,attrs:{label:e.name,value:e.key}})}))],1),e._v(" "),o("el-form-item",{attrs:{label:"商品分类",prop:"cid"}},[o("el-select",{attrs:{clearable:"",placeholder:"选择商品分类"},model:{value:e.postForm.cid,callback:function(t){e.$set(e.postForm,"cid",t)},expression:"postForm.cid"}},e._l(e.cateOptions,function(e){return o("el-option",{key:e.id,attrs:{label:"["+e.tag+"] "+e.title,value:e.id}})}))],1),e._v(" "),o("el-form-item",{attrs:{label:"操作选择",prop:"choose"}},[o("el-select",{attrs:{clearable:"",placeholder:"选择来源"},model:{value:e.postForm.choose,callback:function(t){e.$set(e.postForm,"choose",t)},expression:"postForm.choose"}},e._l(e.chooseOptions,function(e){return o("el-option",{key:e.key,attrs:{label:e.name,value:e.key}})}))],1),e._v(" "),o("el-form-item",{attrs:{label:"banner图",prop:"img"}},[o("div",{staticStyle:{"margin-bottom":"10px"}},[o("Upload",{model:{value:e.postForm.img,callback:function(t){e.$set(e.postForm,"img",t)},expression:"postForm.img"}})],1)]),e._v(" "),o("el-form-item",{attrs:{label:"banner尺寸",prop:"img_size"}},[o("el-select",{attrs:{clearable:"",placeholder:"选择尺寸"},model:{value:e.postForm.img_size,callback:function(t){e.$set(e.postForm,"img_size",t)},expression:"postForm.img_size"}},e._l(e.imgsizeOptions,function(e){return o("el-option",{key:e.key,attrs:{label:e.name,value:e.key}})}))],1),e._v(" "),o("el-form-item",{attrs:{label:"分享缩略图",prop:"shareimg"}},[o("div",{staticStyle:{"margin-bottom":"10px"}},[o("Upload",{model:{value:e.postForm.shareimg,callback:function(t){e.$set(e.postForm,"shareimg",t)},expression:"postForm.shareimg"}})],1)]),e._v(" "),o("el-form-item",{attrs:{label:"排序",prop:"sort"}},[o("el-input",{attrs:{size:"small",placeholder:"值越大越靠前"},model:{value:e.postForm.sort,callback:function(t){e.$set(e.postForm,"sort",t)},expression:"postForm.sort"}})],1)],1)],1)},staticRenderFns:[]};var g=o("VU/8")(k,y,!1,function(e){o("yoo9")},"data-v-6a2ea0d2",null);t.a=g.exports},Nmsl:function(e,t,o){(e.exports=o("FZ+f")(!1)).push([e.i,'\n.createPost-container[data-v-6a2ea0d2] {\n  position: relative;\n}\n.createPost-container .createPost-main-container[data-v-6a2ea0d2] {\n    padding: 40px 45px 20px 50px;\n}\n.createPost-container .createPost-main-container .postInfo-container[data-v-6a2ea0d2] {\n      position: relative;\n      margin-bottom: 10px;\n}\n.createPost-container .createPost-main-container .postInfo-container[data-v-6a2ea0d2]:after {\n        content: "";\n        display: table;\n        clear: both;\n}\n.createPost-container .createPost-main-container .postInfo-container .postInfo-container-item[data-v-6a2ea0d2] {\n        float: left;\n}\n.createPost-container .createPost-main-container .editor-container[data-v-6a2ea0d2] {\n      min-height: 500px;\n      margin: 0 0 30px;\n}\n.createPost-container .createPost-main-container .editor-container .editor-upload-btn-container[data-v-6a2ea0d2] {\n        text-align: right;\n        margin-right: 10px;\n}\n.createPost-container .createPost-main-container .editor-container .editor-upload-btn-container .editor-upload-btn[data-v-6a2ea0d2] {\n          display: inline-block;\n}\n.createPost-container .word-counter[data-v-6a2ea0d2] {\n    width: 40px;\n    position: absolute;\n    right: -10px;\n    top: 0px;\n}\n',""])},nIFQ:function(e,t,o){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var a={name:"editForm",components:{BannerDetail:o("M0v8").a}},n={render:function(){var e=this.$createElement;return(this._self._c||e)("banner-detail",{attrs:{"is-edit":!0}})},staticRenderFns:[]},r=o("VU/8")(a,n,!1,null,null,null);t.default=r.exports},yoo9:function(e,t,o){var a=o("Nmsl");"string"==typeof a&&(a=[[e.i,a,""]]),a.locals&&(e.exports=a.locals);o("rjj0")("625f6043",a,!0)}});